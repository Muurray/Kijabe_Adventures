<head>
  <!-- ===========================
       BASIC META (Dynamic-Ready)
  ============================ -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Dynamic Title -->
  <title id="dynamic-title">Kijabe Adventures Blog</title>

  <!-- Dynamic Meta Description -->
  <meta id="dynamic-desc" name="description"
        content="Adventure guides, hiking tips, and safari insights from Kijabe Adventures." />

  <!-- Canonical -->
  <link id="canonical-link" rel="canonical"
        href="https://kijabeadventures.com/blogs/blog-post.html" />

  <!-- ===========================
       OPEN GRAPH (Dynamic)
  ============================ -->
  <meta property="og:type" content="article" />
  <meta property="og:site_name" content="Kijabe Adventures" />

  <meta id="og-title" property="og:title" content="Kijabe Adventures Blog" />
  <meta id="og-desc" property="og:description"
        content="Adventure guides, hiking tips, and safari insights." />
  <meta id="og-image" property="og:image"
        content="https://kijabeadventures.com/images/hero.jpg" />
  <meta id="og-url" property="og:url"
        content="https://kijabeadventures.com/blogs/blog-post.html" />

  <!-- ===========================
       TWITTER CARDS (Dynamic)
  ============================ -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta id="tw-title" name="twitter:title" content="Kijabe Adventures Blog" />
  <meta id="tw-desc" name="twitter:description"
        content="Adventure guides and hiking tips." />
  <meta id="tw-image" name="twitter:image"
        content="https://kijabeadventures.com/images/hero.jpg" />

  <!-- ===========================
       FAVICONS
  ============================ -->
  <link rel="apple-touch-icon" sizes="180x180" href="../images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../images/favicons/favicon-16x16.png">
  <link rel="manifest" href="../images/favicons/site.webmanifest">
  <link rel="mask-icon" href="../images/favicons/safari-pinned-tab.svg" color="#006400">
  <link rel="shortcut icon" href="../images/favicons/favicon.ico">
  <meta name="theme-color" content="#006400">

  <!-- ===========================
       PERFORMANCE PRELOADS
  ============================ -->
  <link rel="preload" href="../css/styles.css" as="style">
  <link rel="preload" href="../images/logo.png" as="image">

  <!-- ===========================
       CSS
  ============================ -->
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- ===========================
       GOOGLE TAG MANAGER
  ============================ -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T50VJ5C9XV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }

    gtag("js", new Date());
    gtag("config", "G-T50VJ5C9XV");

    gtag('consent', 'default', {
      'ad_storage': 'denied',
      'ad_user_data': 'denied',
      'ad_personalization': 'denied',
      'analytics_storage': 'denied'
    });
  </script>

  <!-- ===========================
       STRUCTURED DATA (Dynamic)
  ============================ -->
  <script type="application/ld+json" id="article-schema">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Loading...",
    "description": "Loading...",
    "image": "https://kijabeadventures.com/images/hero.jpg",
    "author": {
      "@type": "Organization",
      "name": "Kijabe Adventures"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Kijabe Adventures",
      "logo": {
        "@type": "ImageObject",
        "url": "https://kijabeadventures.com/images/logo.png"
      }
    },
    "datePublished": "2026-01-01"
  }
  </script>

  <!-- ===========================
       BREADCRUMB STRUCTURED DATA
  ============================ -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://kijabeadventures.com/" },
      { "@type": "ListItem", "position": 2, "name": "Blog", "item": "https://kijabeadventures.com/blogs/blog.html" },
      { "@type": "ListItem", "position": 3, "name": "Blog Post", "item": "https://kijabeadventures.com/blogs/blog-post.html" }
    ]
  }
  </script>

  <!-- ===========================
       Google Funding Choices (CMP)
  ============================ -->
  <script async src="https://fundingchoicesmessages.google.com/i/pub-3754507736699545?ers=2"></script>
  <script>
    (function() {
      function signalGooglefcPresent() {
        if (!window.frames['googlefcPresent']) {
          if (document.body) {
            const iframe = document.createElement('iframe');
            iframe.style = 'width:0;height:0;border:0;display:none';
            iframe.name = 'googlefcPresent';
            document.body.appendChild(iframe);
          } else {
            setTimeout(signalGooglefcPresent, 300);
          }
        }
      }
      signalGooglefcPresent();
    })();
  </script>

  <!-- Google AdSense -->
  <script async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3754507736699545"
    crossorigin="anonymous"></script>

  <!-- ===========================
       DYNAMIC SEO ENGINE
       AUTO-UPDATES TITLE, DESC,
       OG TAGS, TWITTER, CANONICAL
  ============================ -->
  <script>
    async function loadDynamicSEO() {
      const params = new URLSearchParams(window.location.search);
      const postId = params.get("id");
      if (!postId) return;  // HTML-only blog pages work fine

      const res = await fetch("../blog-data/posts.json");
      const posts = await res.json();
      const post = posts.find(p => p.id === postId);
      if (!post) return;

      // Update SEO Tags
      document.getElementById("dynamic-title").innerText = post.title;
      document.getElementById("dynamic-desc").setAttribute("content", post.excerpt || post.description);

      const url = "https://kijabeadventures.com/blogs/blog-post.html?id=" + post.id;
      document.getElementById("canonical-link").setAttribute("href", url);
      document.getElementById("og-url").setAttribute("content", url);

      document.getElementById("og-title").content = post.title;
      document.getElementById("og-desc").content = post.excerpt;
      document.getElementById("og-image").content = "https://kijabeadventures.com/" + post.image;

      document.getElementById("tw-title").content = post.title;
      document.getElementById("tw-desc").content = post.excerpt;
      document.getElementById("tw-image").content = "https://kijabeadventures.com/" + post.image;

      // Structured Data
      const schema = {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": post.title,
        "description": post.excerpt,
        "image": "https://kijabeadventures.com/" + post.image,
        "author": { "@type": "Organization", "name": post.author || "Kijabe Adventures" },
        "publisher": {
          "@type": "Organization",
          "name": "Kijabe Adventures",
          "logo": { "@type": "ImageObject", "url": "https://kijabeadventures.com/images/logo.png" }
        },
        "datePublished": post.date
      };
      document.getElementById("article-schema").innerText = JSON.stringify(schema, null, 2);
    }

    document.addEventListener("DOMContentLoaded", loadDynamicSEO);
  </script>
</head>
